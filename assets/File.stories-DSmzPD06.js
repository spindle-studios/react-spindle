import{I as h}from"./Icon-CY7ex0Pt.js";import{c as F}from"./clsx-B-dksMZM.js";import{R as e,r as c}from"./index-D4H_InIO.js";import"./iframe-DrfhUaOA.js";import"../sb-preview/runtime.js";const n=e.forwardRef(({label:m,title:d,maxFileSize:u=1024*1024*2,initialFile:r=null,containerClassName:w,disabled:C,multiple:l,className:I,onFileChange:R,onError:i,...g},D)=>{const[o,f]=c.useState(r),S=c.useRef(null),A=D??S;c.useEffect(()=>{f(r)},[g.value,r]);const U=async s=>{const p=s.target.files;if(p){const V=Array.from(p).map(b=>new Promise((Q,E)=>{if(b.size>u)return i==null||i(`File must be less than ${u/1024/1024}MB`),E();const t=new FileReader;t.onloadend=()=>{Q(t.result)},t.onerror=()=>E(t.error),t.readAsDataURL(b)})),v=await Promise.all(V);f(v[0]??null),R(v)}};return e.createElement("div",{className:F("flex flex-col gap-1",w)},m&&e.createElement("label",{className:"text-sm font-medium text-foreground"},m),e.createElement("input",{ref:A,type:"file",onChange:U,multiple:l,className:"hidden",...g}),e.createElement("button",{disabled:C,type:"button",className:F("flex h-10 w-full items-center justify-start rounded-md border border-border bg-background px-3 py-2 text-sm shadow-sm","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background","hover:bg-accent hover:text-accent-foreground disabled:opacity-50","transition-all active:scale-smaller active:disabled:scale-default",I),onClick:()=>{var s;return(s=A.current)==null?void 0:s.click()}},e.createElement("div",{className:"relative flex h-5 w-5 items-center justify-center mr-2"},o?l?e.createElement(h,{name:"Images",size:20,className:"text-muted-foreground"}):e.createElement("img",{src:o,alt:"Uploaded file preview",className:"h-5 w-5 rounded-md object-cover"}):e.createElement(h,{name:"Upload",size:20,className:"text-muted-foreground"})),d?e.createElement("span",{className:"truncate"},d):e.createElement("span",{className:"truncate"},o?"Change":"Upload"," ",l?"files":"file")))});n.__docgenInfo={description:"",methods:[],displayName:"File",props:{label:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},title:{required:!1,tsType:{name:"string"},description:""},maxFileSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1024 * 1024 * 2",computed:!1}},initialFile:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"null",computed:!1}},containerClassName:{required:!1,tsType:{name:"string"},description:""},onFileChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(files: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"files"}],return:{name:"void"}}},description:""},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(error: string) => void",signature:{arguments:[{type:{name:"string"},name:"error"}],return:{name:"void"}}},description:""}}};const a=()=>e.createElement("div",{className:"flex"},e.createElement("div",{className:"w-[500px] flex-col gap-2 flex"},e.createElement(n,{onFileChange:console.log}),e.createElement(n,{disabled:!0,onFileChange:console.log}),e.createElement(n,{multiple:!0,onFileChange:console.log}),e.createElement(n,{initialFile:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII",onFileChange:console.log})));a.storyName="File";const z={title:"Components/File"};a.__docgenInfo={description:"",methods:[],displayName:"Default"};var N,x,y;a.parameters={...a.parameters,docs:{...(N=a.parameters)==null?void 0:N.docs,source:{originalSource:`() => {
  return <div className="flex">
      <div className="w-[500px] flex-col gap-2 flex">
        <File onFileChange={console.log} />
        <File disabled onFileChange={console.log} />

        <File multiple onFileChange={console.log} />

        <File initialFile="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII" onFileChange={console.log} />
      </div>
    </div>;
}`,...(y=(x=a.parameters)==null?void 0:x.docs)==null?void 0:y.source}}};const M=["Default"];export{a as Default,M as __namedExportsOrder,z as default};

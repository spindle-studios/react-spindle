import{r as d,R}from"./index-D4H_InIO.js";import{c as Q}from"./index-BdQq_4o_.js";import{c as V,u as T,P as B}from"./index-DnMpQ8e1.js";import{c as pe}from"./index-BGvQA-3y.js";import{u as ge}from"./index--4m2dg1r.js";import{u as he}from"./index-61oKotMl.js";import{u as Se}from"./index-DXU_LAI1.js";import{u as ve}from"./index-DRdZxNyf.js";import{c as xe}from"./index-t_-pYcMr.js";import{j as h}from"./jsx-runtime-D5HtGlwT.js";import{c as K}from"./clsx-B-dksMZM.js";import"./index-HGhNz9tO.js";import"./index-C7hInxnB.js";var Z=["PageUp","PageDown"],ee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],te={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},M="Slider",[F,be,we]=xe(M),[ne,Qe]=pe(M,[we]),[ye,H]=ne(M),re=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:l=1,orientation:o="horizontal",disabled:i=!1,minStepsBetweenThumbs:c=0,defaultValue:m=[r],value:w,onValueChange:a=()=>{},onValueCommit:u=()=>{},inverted:v=!1,form:y,...S}=e,p=d.useRef(new Set),f=d.useRef(0),x=o==="horizontal"?Re:Ee,[g=[],I]=ge({prop:w,defaultProp:m,onChange:b=>{var C;(C=[...p.current][f.current])==null||C.focus(),a(b)}}),z=d.useRef(g);function L(b){const E=Ve(g,b);j(b,E)}function fe(b){j(b,f.current)}function me(){const b=z.current[f.current];g[f.current]!==b&&u(g)}function j(b,E,{commit:C}={commit:!1}){const X=je(l),O=Ae(Math.round((b-r)/l)*l+r,X),A=Q(O,[r,s]);I((_=[])=>{const P=Ce(_,A,E);if(Ie(P,c*l)){f.current=P.indexOf(A);const q=String(P)!==String(_);return q&&C&&u(P),q?P:_}else return _})}return h.jsx(ye,{scope:e.__scopeSlider,name:n,disabled:i,min:r,max:s,valueIndexToChangeRef:f,thumbs:p.current,values:g,orientation:o,form:y,children:h.jsx(F.Provider,{scope:e.__scopeSlider,children:h.jsx(F.Slot,{scope:e.__scopeSlider,children:h.jsx(x,{"aria-disabled":i,"data-disabled":i?"":void 0,...S,ref:t,onPointerDown:V(S.onPointerDown,()=>{i||(z.current=g)}),min:r,max:s,inverted:v,onSlideStart:i?void 0:L,onSlideMove:i?void 0:fe,onSlideEnd:i?void 0:me,onHomeKeyDown:()=>!i&&j(r,0,{commit:!0}),onEndKeyDown:()=>!i&&j(s,g.length-1,{commit:!0}),onStepKeyDown:({event:b,direction:E})=>{if(!i){const O=Z.includes(b.key)||b.shiftKey&&ee.includes(b.key)?10:1,A=f.current,_=g[A],P=l*O*E;j(_+P,A,{commit:!0})}}})})})})});re.displayName=M;var[oe,se]=ne(M,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Re=d.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:l,onSlideStart:o,onSlideMove:i,onSlideEnd:c,onStepKeyDown:m,...w}=e,[a,u]=d.useState(null),v=T(t,x=>u(x)),y=d.useRef(),S=he(s),p=S==="ltr",f=p&&!l||!p&&l;function D(x){const g=y.current||a.getBoundingClientRect(),I=[0,g.width],L=$(I,f?[n,r]:[r,n]);return y.current=g,L(x-g.left)}return h.jsx(oe,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:h.jsx(ae,{dir:S,"data-orientation":"horizontal",...w,ref:v,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const g=D(x.clientX);o==null||o(g)},onSlideMove:x=>{const g=D(x.clientX);i==null||i(g)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:x=>{const I=te[f?"from-left":"from-right"].includes(x.key);m==null||m({event:x,direction:I?-1:1})}})})}),Ee=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:l,onSlideMove:o,onSlideEnd:i,onStepKeyDown:c,...m}=e,w=d.useRef(null),a=T(t,w),u=d.useRef(),v=!s;function y(S){const p=u.current||w.current.getBoundingClientRect(),f=[0,p.height],x=$(f,v?[r,n]:[n,r]);return u.current=p,x(S-p.top)}return h.jsx(oe,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:h.jsx(ae,{"data-orientation":"vertical",...m,ref:a,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const p=y(S.clientY);l==null||l(p)},onSlideMove:S=>{const p=y(S.clientY);o==null||o(p)},onSlideEnd:()=>{u.current=void 0,i==null||i()},onStepKeyDown:S=>{const f=te[v?"from-bottom":"from-top"].includes(S.key);c==null||c({event:S,direction:f?-1:1})}})})}),ae=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:i,onStepKeyDown:c,...m}=e,w=H(M,n);return h.jsx(B.span,{...m,ref:t,onKeyDown:V(e.onKeyDown,a=>{a.key==="Home"?(o(a),a.preventDefault()):a.key==="End"?(i(a),a.preventDefault()):Z.concat(ee).includes(a.key)&&(c(a),a.preventDefault())}),onPointerDown:V(e.onPointerDown,a=>{const u=a.target;u.setPointerCapture(a.pointerId),a.preventDefault(),w.thumbs.has(u)?u.focus():r(a)}),onPointerMove:V(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&s(a)}),onPointerUp:V(e.onPointerUp,a=>{const u=a.target;u.hasPointerCapture(a.pointerId)&&(u.releasePointerCapture(a.pointerId),l(a))})})}),ie="SliderTrack",le=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=H(ie,n);return h.jsx(B.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});le.displayName=ie;var U="SliderRange",ce=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=H(U,n),l=se(U,n),o=d.useRef(null),i=T(t,o),c=s.values.length,m=s.values.map(u=>ue(u,s.min,s.max)),w=c>1?Math.min(...m):0,a=100-Math.max(...m);return h.jsx(B.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:i,style:{...e.style,[l.startEdge]:w+"%",[l.endEdge]:a+"%"}})});ce.displayName=U;var Y="SliderThumb",de=d.forwardRef((e,t)=>{const n=be(e.__scopeSlider),[r,s]=d.useState(null),l=T(t,i=>s(i)),o=d.useMemo(()=>r?n().findIndex(i=>i.ref.current===r):-1,[n,r]);return h.jsx(Pe,{...e,ref:l,index:o})}),Pe=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...l}=e,o=H(Y,n),i=se(Y,n),[c,m]=d.useState(null),w=T(t,D=>m(D)),a=c?o.form||!!c.closest("form"):!0,u=ve(c),v=o.values[r],y=v===void 0?0:ue(v,o.min,o.max),S=_e(r,o.values.length),p=u==null?void 0:u[i.size],f=p?Ne(p,y,i.direction):0;return d.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${y}% + ${f}px)`},children:[h.jsx(F.ItemSlot,{scope:e.__scopeSlider,children:h.jsx(B.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:w,style:v===void 0?{display:"none"}:e.style,onFocus:V(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),a&&h.jsx(De,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},r)]})});de.displayName=Y;var De=e=>{const{value:t,...n}=e,r=d.useRef(null),s=Se(t);return d.useEffect(()=>{const l=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const m=new Event("input",{bubbles:!0});c.call(l,t),l.dispatchEvent(m)}},[s,t]),h.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Ce(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,l)=>s-l)}function ue(e,t,n){const l=100/(n-t)*(e-t);return Q(l,[0,100])}function _e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ve(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function Ne(e,t,n){const r=e/2,l=$([0,50],[0,r]);return(r-l(t)*n)*n}function Me(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ie(e,t){if(t>0){const n=Me(e);return Math.min(...n)>=t}return!0}function $(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function je(e){return(String(e).split(".")[1]||"").length}function Ae(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Te=re,Ke=le,ke=ce,Be=de;const k=({label:e,containerClassName:t,disabled:n,className:r,...s})=>R.createElement("div",{className:K("flex flex-col gap-1",t)},e&&R.createElement("label",{className:"text-sm font-medium text-foreground"},e),R.createElement(Te,{disabled:n,className:K("relative flex w-full touch-none select-none items-center","transition-all active:scale-bigger active:disabled:scale-default",r),...s},R.createElement(Ke,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20"},R.createElement(ke,{className:K("absolute h-full bg-primary",{"!bg-primary/60":n})})),R.createElement(Be,{className:K("block h-4 w-4 rounded-full border border-primary bg-background shadow transition-all","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background",{hidden:n})})));k.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{label:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:""}}};const N=()=>{const[e,t]=d.useState([50]);return R.createElement("div",{className:"flex flex-col items-center justify-center h-screen gap-6"},R.createElement("div",{className:"w-[300px] flex flex-col gap-10"},R.createElement(k,{label:"Label",value:e,onValueChange:t,max:100,step:1}),R.createElement(k,{value:e,onValueChange:t,max:100,step:1}),R.createElement(k,{disabled:!0,value:[25]})))};N.storyName="Slider";const Ze={title:"Components/Slider"};N.__docgenInfo={description:"",methods:[],displayName:"Default"};var G,W,J;N.parameters={...N.parameters,docs:{...(G=N.parameters)==null?void 0:G.docs,source:{originalSource:`() => {
  const [value, setValue] = useState([50]);
  return <div className="flex flex-col items-center justify-center h-screen gap-6">
      <div className="w-[300px] flex flex-col gap-10">
        <Slider label="Label" value={value} onValueChange={setValue} max={100} step={1} />
        <Slider value={value} onValueChange={setValue} max={100} step={1} />
        <Slider disabled value={[25]} />
      </div>
    </div>;
}`,...(J=(W=N.parameters)==null?void 0:W.docs)==null?void 0:J.source}}};const et=["Default"];export{N as Default,et as __namedExportsOrder,Ze as default};

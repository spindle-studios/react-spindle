import{B as re}from"./Button-DIL49ejJ.js";import{I as $}from"./Icon-DKM_MZHR.js";import{r as n,R as b}from"./index-DQDNmYQF.js";import{r as xe}from"./index-DubjsFmy.js";import{u as ne,P as D,c as C,d as ye}from"./index-DbL7VhtL.js";import{c as ge}from"./index-mMbiGhrb.js";import{c as he,a as H,u as be}from"./index-ChFn0lD8.js";import{B as Pe,R as Ce,P as Re}from"./index-BvvQoqyP.js";import{P as Se}from"./index-BW1PioQb.js";import{u as Ie}from"./index-CpMZRsqH.js";import{V as ae}from"./index-Cc0hJNjL.js";import{j as l}from"./jsx-runtime-BBa0EPuc.js";import{c as oe}from"./clsx-B-dksMZM.js";var Q="ToastProvider",[Z,Ne,_e]=ge("Toast"),[ie,ft]=he("Toast",[_e]),[Fe,W]=ie(Q),ce=t=>{const{__scopeToast:r,label:o="Notification",duration:e=5e3,swipeDirection:c="right",swipeThreshold:u=50,children:p}=t,[f,T]=n.useState(null),[s,P]=n.useState(0),x=n.useRef(!1),L=n.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${Q}\`. Expected non-empty \`string\`.`),l.jsx(Z.Provider,{scope:r,children:l.jsx(Fe,{scope:r,label:o,duration:e,swipeDirection:c,swipeThreshold:u,toastCount:s,viewport:f,onViewportChange:T,onToastAdd:n.useCallback(()=>P(S=>S+1),[]),onToastRemove:n.useCallback(()=>P(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:L,children:p})})};ce.displayName=Q;var le="ToastViewport",Ae=["F8"],Y="toast.viewportPause",G="toast.viewportResume",ue=n.forwardRef((t,r)=>{const{__scopeToast:o,hotkey:e=Ae,label:c="Notifications ({hotkey})",...u}=t,p=W(le,o),f=Ne(o),T=n.useRef(null),s=n.useRef(null),P=n.useRef(null),x=n.useRef(null),L=ne(r,x,p.onViewportChange),S=e.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=p.toastCount>0;n.useEffect(()=>{const i=y=>{var v;e.length!==0&&e.every(w=>y[w]||y.code===w)&&((v=x.current)==null||v.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),n.useEffect(()=>{const i=T.current,y=x.current;if(I&&i&&y){const m=()=>{if(!p.isClosePausedRef.current){const g=new CustomEvent(Y);y.dispatchEvent(g),p.isClosePausedRef.current=!0}},v=()=>{if(p.isClosePausedRef.current){const g=new CustomEvent(G);y.dispatchEvent(g),p.isClosePausedRef.current=!1}},w=g=>{!i.contains(g.relatedTarget)&&v()},E=()=>{i.contains(document.activeElement)||v()};return i.addEventListener("focusin",m),i.addEventListener("focusout",w),i.addEventListener("pointermove",m),i.addEventListener("pointerleave",E),window.addEventListener("blur",m),window.addEventListener("focus",v),()=>{i.removeEventListener("focusin",m),i.removeEventListener("focusout",w),i.removeEventListener("pointermove",m),i.removeEventListener("pointerleave",E),window.removeEventListener("blur",m),window.removeEventListener("focus",v)}}},[I,p.isClosePausedRef]);const d=n.useCallback(({tabbingDirection:i})=>{const m=f().map(v=>{const w=v.ref.current,E=[w,...ze(w)];return i==="forwards"?E:E.reverse()});return(i==="forwards"?m.reverse():m).flat()},[f]);return n.useEffect(()=>{const i=x.current;if(i){const y=m=>{var E,g,N;const v=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!v){const O=document.activeElement,F=m.shiftKey;if(m.target===i&&F){(E=s.current)==null||E.focus();return}const _=d({tabbingDirection:F?"backwards":"forwards"}),k=_.findIndex(a=>a===O);z(_.slice(k+1))?m.preventDefault():F?(g=s.current)==null||g.focus():(N=P.current)==null||N.focus()}};return i.addEventListener("keydown",y),()=>i.removeEventListener("keydown",y)}},[f,d]),l.jsxs(Pe,{ref:T,role:"region","aria-label":c.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&l.jsx(J,{ref:s,onFocusFromOutsideViewport:()=>{const i=d({tabbingDirection:"forwards"});z(i)}}),l.jsx(Z.Slot,{scope:o,children:l.jsx(D.ol,{tabIndex:-1,...u,ref:L})}),I&&l.jsx(J,{ref:P,onFocusFromOutsideViewport:()=>{const i=d({tabbingDirection:"backwards"});z(i)}})]})});ue.displayName=le;var de="ToastFocusProxy",J=n.forwardRef((t,r)=>{const{__scopeToast:o,onFocusFromOutsideViewport:e,...c}=t,u=W(de,o);return l.jsx(ae,{"aria-hidden":!0,tabIndex:0,...c,ref:r,style:{position:"fixed"},onFocus:p=>{var s;const f=p.relatedTarget;!((s=u.viewport)!=null&&s.contains(f))&&e()}})});J.displayName=de;var X="Toast",De="toast.swipeStart",Le="toast.swipeMove",Oe="toast.swipeCancel",Me="toast.swipeEnd",pe=n.forwardRef((t,r)=>{const{forceMount:o,open:e,defaultOpen:c,onOpenChange:u,...p}=t,[f=!0,T]=Ie({prop:e,defaultProp:c,onChange:u});return l.jsx(Se,{present:o||f,children:l.jsx(Ve,{open:f,...p,ref:r,onClose:()=>T(!1),onPause:H(t.onPause),onResume:H(t.onResume),onSwipeStart:C(t.onSwipeStart,s=>{s.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(t.onSwipeMove,s=>{const{x:P,y:x}=s.detail.delta;s.currentTarget.setAttribute("data-swipe","move"),s.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${P}px`),s.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:C(t.onSwipeCancel,s=>{s.currentTarget.setAttribute("data-swipe","cancel"),s.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),s.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),s.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),s.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(t.onSwipeEnd,s=>{const{x:P,y:x}=s.detail.delta;s.currentTarget.setAttribute("data-swipe","end"),s.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),s.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),s.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${P}px`),s.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),T(!1)})})})});pe.displayName=X;var[je,ke]=ie(X,{onClose(){}}),Ve=n.forwardRef((t,r)=>{const{__scopeToast:o,type:e="foreground",duration:c,open:u,onClose:p,onEscapeKeyDown:f,onPause:T,onResume:s,onSwipeStart:P,onSwipeMove:x,onSwipeCancel:L,onSwipeEnd:S,...I}=t,d=W(X,o),[i,y]=n.useState(null),m=ne(r,a=>y(a)),v=n.useRef(null),w=n.useRef(null),E=c||d.duration,g=n.useRef(0),N=n.useRef(E),O=n.useRef(0),{onToastAdd:F,onToastRemove:B}=d,A=H(()=>{var h;(i==null?void 0:i.contains(document.activeElement))&&((h=d.viewport)==null||h.focus()),p()}),_=n.useCallback(a=>{!a||a===1/0||(window.clearTimeout(O.current),g.current=new Date().getTime(),O.current=window.setTimeout(A,a))},[A]);n.useEffect(()=>{const a=d.viewport;if(a){const h=()=>{_(N.current),s==null||s()},R=()=>{const M=new Date().getTime()-g.current;N.current=N.current-M,window.clearTimeout(O.current),T==null||T()};return a.addEventListener(Y,R),a.addEventListener(G,h),()=>{a.removeEventListener(Y,R),a.removeEventListener(G,h)}}},[d.viewport,E,T,s,_]),n.useEffect(()=>{u&&!d.isClosePausedRef.current&&_(E)},[u,E,d.isClosePausedRef,_]),n.useEffect(()=>(F(),()=>B()),[F,B]);const k=n.useMemo(()=>i?Te(i):null,[i]);return d.viewport?l.jsxs(l.Fragment,{children:[k&&l.jsx(Ke,{__scopeToast:o,role:"status","aria-live":e==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),l.jsx(je,{scope:o,onClose:A,children:xe.createPortal(l.jsx(Z.ItemSlot,{scope:o,children:l.jsx(Ce,{asChild:!0,onEscapeKeyDown:C(f,()=>{d.isFocusedToastEscapeKeyDownRef.current||A(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(D.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":d.swipeDirection,...I,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:C(t.onKeyDown,a=>{a.key==="Escape"&&(f==null||f(a.nativeEvent),a.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:C(t.onPointerDown,a=>{a.button===0&&(v.current={x:a.clientX,y:a.clientY})}),onPointerMove:C(t.onPointerMove,a=>{if(!v.current)return;const h=a.clientX-v.current.x,R=a.clientY-v.current.y,M=!!w.current,j=["left","right"].includes(d.swipeDirection),V=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,we=j?V(0,h):0,Ee=j?0:V(0,R),U=a.pointerType==="touch"?10:2,K={x:we,y:Ee},te={originalEvent:a,delta:K};M?(w.current=K,q(Le,x,te,{discrete:!1})):se(K,d.swipeDirection,U)?(w.current=K,q(De,P,te,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(h)>U||Math.abs(R)>U)&&(v.current=null)}),onPointerUp:C(t.onPointerUp,a=>{const h=w.current,R=a.target;if(R.hasPointerCapture(a.pointerId)&&R.releasePointerCapture(a.pointerId),w.current=null,v.current=null,h){const M=a.currentTarget,j={originalEvent:a,delta:h};se(h,d.swipeDirection,d.swipeThreshold)?q(Me,S,j,{discrete:!0}):q(Oe,L,j,{discrete:!0}),M.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),Ke=t=>{const{__scopeToast:r,children:o,...e}=t,c=W(X,r),[u,p]=n.useState(!1),[f,T]=n.useState(!1);return Ue(()=>p(!0)),n.useEffect(()=>{const s=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(s)},[]),f?null:l.jsx(Re,{asChild:!0,children:l.jsx(ae,{...e,children:u&&l.jsxs(l.Fragment,{children:[c.label," ",o]})})})},qe="ToastTitle",He=n.forwardRef((t,r)=>{const{__scopeToast:o,...e}=t;return l.jsx(D.div,{...e,ref:r})});He.displayName=qe;var We="ToastDescription",Xe=n.forwardRef((t,r)=>{const{__scopeToast:o,...e}=t;return l.jsx(D.div,{...e,ref:r})});Xe.displayName=We;var fe="ToastAction",Be=n.forwardRef((t,r)=>{const{altText:o,...e}=t;return o.trim()?l.jsx(ve,{altText:o,asChild:!0,children:l.jsx(ee,{...e,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${fe}\`. Expected non-empty \`string\`.`),null)});Be.displayName=fe;var me="ToastClose",ee=n.forwardRef((t,r)=>{const{__scopeToast:o,...e}=t,c=ke(me,o);return l.jsx(ve,{asChild:!0,children:l.jsx(D.button,{type:"button",...e,ref:r,onClick:C(t.onClick,c.onClose)})})});ee.displayName=me;var ve=n.forwardRef((t,r)=>{const{__scopeToast:o,altText:e,...c}=t;return l.jsx(D.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":e||void 0,...c,ref:r})});function Te(t){const r=[];return Array.from(t.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&r.push(e.textContent),$e(e)){const c=e.ariaHidden||e.hidden||e.style.display==="none",u=e.dataset.radixToastAnnounceExclude==="";if(!c)if(u){const p=e.dataset.radixToastAnnounceAlt;p&&r.push(p)}else r.push(...Te(e))}}),r}function q(t,r,o,{discrete:e}){const c=o.originalEvent.currentTarget,u=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:o});r&&c.addEventListener(t,r,{once:!0}),e?ye(c,u):c.dispatchEvent(u)}var se=(t,r,o=0)=>{const e=Math.abs(t.x),c=Math.abs(t.y),u=e>c;return r==="left"||r==="right"?u&&e>o:!u&&c>o};function Ue(t=()=>{}){const r=H(t);be(()=>{let o=0,e=0;return o=window.requestAnimationFrame(()=>e=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(e)}},[r])}function $e(t){return t.nodeType===t.ELEMENT_NODE}function ze(t){const r=[],o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const c=e.tagName==="INPUT"&&e.type==="hidden";return e.disabled||e.hidden||c?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)r.push(o.currentNode);return r}function z(t){const r=document.activeElement;return t.some(o=>o===r?!0:(o.focus(),document.activeElement!==r))}var Ye=ce,Ge=ue,Je=pe,Qe=ee;const Ze=({open:t,message:r,variant:o,position:e="bottom-left",action:c,duration:u,className:p,onClick:f,onOpenChange:T})=>{const s=()=>{switch(o){case"positive":return b.createElement($,{name:"CircleCheck",size:20,className:"text-primary/50"});case"negative":return b.createElement($,{name:"CircleX",size:20,className:"text-primary/50"});default:return null}};return b.createElement(Ye,{duration:u},b.createElement(Je,{open:t,onOpenChange:T,className:oe("group pointer-events-auto relative justify-between flex w-full items-center space-x-4 rounded-md border p-4 shadow-lg transition-all bg-background text-foreground border-border","data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full sm:data-[state=open]:slide-in-from-bottom-full")},b.createElement("div",{className:"flex flex-row gap-2"},s(),b.createElement("div",{className:"flex-1 text-sm"},r)),b.createElement("div",{className:"flex flex-row gap-1"},o==="action"&&c&&f&&b.createElement(re,{variant:"outline",size:"sm",onClick:f,className:"w-fit"},c),b.createElement(Qe,null,b.createElement(re,{variant:"icon",size:"sm"},b.createElement($,{name:"X"}))))),b.createElement(Ge,{className:oe("fixed z-50 flex max-h-screen w-full flex-col-reverse","left-4 right-4 w-[calc(100%-32px)] sm:max-w-[420px]",{"top-4":e==="top-left"||e==="top-right","bottom-4":e==="bottom-left"||e==="bottom-right"},{"sm:left-auto sm:right-4":e==="top-right"||e==="bottom-right","sm:right-auto sm:left-4":e==="top-left"||e==="bottom-left"},p)}))};Ze.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{open:{required:!0,tsType:{name:"boolean"},description:""},message:{required:!0,tsType:{name:"string"},description:""},variant:{required:!0,tsType:{name:"union",raw:"'positive' | 'negative' | 'neutral' | 'action'",elements:[{name:"literal",value:"'positive'"},{name:"literal",value:"'negative'"},{name:"literal",value:"'neutral'"},{name:"literal",value:"'action'"}]},description:""},position:{required:!1,tsType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'bottom-left'",computed:!1}},action:{required:!1,tsType:{name:"string"},description:""},duration:{required:!1,tsType:{name:"number"},description:""},className:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};export{Ze as T};

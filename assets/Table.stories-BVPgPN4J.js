import{c as Q}from"./clsx-B-dksMZM.js";import{R as a,r as ve}from"./index-DQDNmYQF.js";import{S as Ne}from"./Scrollable-B6o2RAJu.js";import"./index-DbL7VhtL.js";import"./index-DubjsFmy.js";import"./index-Bh7QTw9R.js";import"./jsx-runtime-BBa0EPuc.js";import"./index-BW1PioQb.js";import"./index-ChFn0lD8.js";import"./index-DgR7NeSL.js";import"./index-BdQq_4o_.js";function $(){return $=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$.apply(this,arguments)}function Oe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var Ie=["bottom","height","left","right","top","width"],Me=function(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),Ie.some(function(n){return e[n]!==r[n]})},z=new Map,ye,Ce=function t(){var e=[];z.forEach(function(r,n){var s=n.getBoundingClientRect();Me(s,r.rect)&&(r.rect=s,e.push(r))}),e.forEach(function(r){r.callbacks.forEach(function(n){return n(r.rect)})}),ye=window.requestAnimationFrame(t)};function De(t,e){return{observe:function(){var n=z.size===0;z.has(t)?z.get(t).callbacks.push(e):z.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),n&&Ce()},unobserve:function(){var n=z.get(t);if(n){var s=n.callbacks.indexOf(e);s>=0&&n.callbacks.splice(s,1),n.callbacks.length||z.delete(t),z.size||cancelAnimationFrame(ye)}}}}var j=typeof window<"u"?a.useLayoutEffect:a.useEffect;function qe(t,e){e===void 0&&(e={width:0,height:0});var r=a.useState(t.current),n=r[0],s=r[1],o=a.useReducer(Ae,e),d=o[0],v=o[1],b=a.useRef(!1);return j(function(){t.current!==n&&s(t.current)}),j(function(){if(n&&!b.current){b.current=!0;var p=n.getBoundingClientRect();v({rect:p})}},[n]),a.useEffect(function(){if(n){var p=De(n,function(N){v({rect:N})});return p.observe(),function(){p.unobserve()}}},[n]),d}function Ae(t,e){var r=e.rect;return t.height!==r.height||t.width!==r.width?r:t}var Ke=function(){return 50},Pe=function(e){return e},Fe=function(e,r){var n=r?"offsetWidth":"offsetHeight";return e[n]},_e=function(e){for(var r=Math.max(e.start-e.overscan,0),n=Math.min(e.end+e.overscan,e.size-1),s=[],o=r;o<=n;o++)s.push(o);return s};function Le(t){var e,r=t.size,n=r===void 0?0:r,s=t.estimateSize,o=s===void 0?Ke:s,d=t.overscan,v=d===void 0?1:d,b=t.paddingStart,p=b===void 0?0:b,N=t.paddingEnd,c=N===void 0?0:N,h=t.parentRef,l=t.horizontal,y=t.scrollToFn,R=t.useObserver,O=t.initialRect,C=t.onScrollElement,K=t.scrollOffsetFn,D=t.keyExtractor,X=D===void 0?Pe:D,Y=t.measureSize,Z=Y===void 0?Fe:Y,ee=t.rangeExtractor,te=ee===void 0?_e:ee,xe=l?"width":"height",P=l?"scrollLeft":"scrollTop",w=a.useRef({scrollOffset:0,measurements:[]}),re=a.useState(0),Se=re[0],ne=re[1];w.current.scrollOffset=Se;var Re=R||qe,we=Re(h,O),Ee=we[xe];w.current.outerSize=Ee;var q=a.useCallback(function(u){h.current&&(h.current[P]=u)},[h,P]),ae=y||q;y=a.useCallback(function(u){ae(u,q)},[q,ae]);var se=a.useState({}),oe=se[0],B=se[1],ke=a.useCallback(function(){return B({})},[]),F=a.useRef([]),I=a.useMemo(function(){var u=F.current.length>0?Math.min.apply(Math,F.current):0;F.current=[];for(var m=w.current.measurements.slice(0,u),i=u;i<n;i++){var g=X(i),f=oe[g],E=m[i-1]?m[i-1].end:p,x=typeof f=="number"?f:o(i),S=E+x;m[i]={index:i,start:E,size:x,end:S,key:g}}return m},[o,oe,p,n,X]),ue=(((e=I[n-1])==null?void 0:e.end)||p)+c;w.current.measurements=I,w.current.totalSize=ue;var A=C?C.current:h.current,W=a.useRef(K);W.current=K,j(function(){if(!A){ne(0);return}var u=function(i){var g=W.current?W.current(i):A[P];ne(g)};return u(),A.addEventListener("scroll",u,{capture:!1,passive:!0}),function(){A.removeEventListener("scroll",u)}},[A,P]);var ie=Be(w.current),ce=ie.start,le=ie.end,U=a.useMemo(function(){return te({start:ce,end:le,overscan:v,size:I.length})},[ce,le,v,I.length,te]),fe=a.useRef(Z);fe.current=Z;var ze=a.useMemo(function(){for(var u=[],m=function(E,x){var S=U[E],_=I[S],T=$($({},_),{},{measureRef:function(L){if(L){var G=fe.current(L,l);if(G!==T.size){var me=w.current.scrollOffset;T.start<me&&q(me+(G-T.size)),F.current.push(S),B(function($e){var J;return $($({},$e),{},(J={},J[T.key]=G,J))})}}}});u.push(T)},i=0,g=U.length;i<g;i++)m(i);return u},[U,q,l,I]),de=a.useRef(!1);j(function(){de.current&&B({}),de.current=!0},[o]);var V=a.useCallback(function(u,m){var i=m===void 0?{}:m,g=i.align,f=g===void 0?"start":g,E=w.current,x=E.scrollOffset,S=E.outerSize;f==="auto"&&(u<=x?f="start":u>=x+S?f="end":f="start"),f==="start"?y(u):f==="end"?y(u-S):f==="center"&&y(u-S/2)},[y]),H=a.useCallback(function(u,m){var i=m===void 0?{}:m,g=i.align,f=g===void 0?"auto":g,E=Oe(i,["align"]),x=w.current,S=x.measurements,_=x.scrollOffset,T=x.outerSize,k=S[Math.max(0,Math.min(u,n-1))];if(k){if(f==="auto")if(k.end>=_+T)f="end";else if(k.start<=_)f="start";else return;var L=f==="center"?k.start+k.size/2:f==="end"?k.end:k.start;V(L,$({align:f},E))}},[V,n]),Te=a.useCallback(function(){for(var u=arguments.length,m=new Array(u),i=0;i<u;i++)m[i]=arguments[i];H.apply(void 0,m),requestAnimationFrame(function(){H.apply(void 0,m)})},[H]);return{virtualItems:ze,totalSize:ue,scrollToOffset:V,scrollToIndex:Te,measure:ke}}var je=function(e,r,n,s){for(;e<=r;){var o=(e+r)/2|0,d=n(o);if(d<s)e=o+1;else if(d>s)r=o-1;else return o}return e>0?e-1:0};function Be(t){for(var e=t.measurements,r=t.outerSize,n=t.scrollOffset,s=e.length-1,o=function(p){return e[p].start},d=je(0,s,o,n),v=d;v<s&&e[v].end<n+r;)v++;return{start:d,end:v}}function be({columns:t,data:e,className:r,headerClassName:n,disableScrollbar:s,render:o,onClick:d}){const v=ve.useRef(null),b=ve.useRef(null),p=Le({parentRef:v,size:e.length,overscan:10}),N=(c,h)=>{var C;const l=(C=v.current)==null?void 0:C.querySelectorAll('tr[tabindex="0"]');if(!l)return;const y=c.currentTarget,R=Array.from(l).indexOf(y),O=K=>{var D;return(D=l[K])==null?void 0:D.focus()};c.key==="Tab"?(c.preventDefault(),c.shiftKey?O((R-1+l.length)%l.length):O((R+1)%l.length)):c.key==="ArrowDown"?(c.preventDefault(),O((R+1)%l.length)):c.key==="ArrowUp"?(c.preventDefault(),O((R-1+l.length)%l.length)):c.key==="Enter"&&(c.preventDefault(),d==null||d(e[h],h))};return a.createElement(Ne,{ref:v,className:"h-full rounded-t-md",disableScrollbar:s},a.createElement("table",{className:"w-full text-sm border-collapse table-fixed"},a.createElement("thead",{className:Q("sticky top-0 bg-background shadow-sm z-10",n)},a.createElement("tr",{className:"[&_th]:border-b [&_th]:border-b-muted"},t.map(c=>a.createElement("th",{ref:b,key:String(c.key),className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},c.header)))),a.createElement("tbody",{className:Q("relative",r),style:{height:`${p.totalSize}px`}},p.virtualItems.map(c=>{const h=e[c.index];return a.createElement("tr",{key:c.index,tabIndex:0,onKeyDown:l=>N(l,c.index),onClick:()=>d==null?void 0:d(h,c.index),className:Q("border-b border-b-muted transition-colors absolute left-0 right-0","hover:bg-muted/50 focus:bg-muted/50 cursor-pointer focus:outline-none"),style:{top:`${c.start}px`,height:`${c.size}px`}},t.map(l=>{var y,R;return a.createElement("td",{key:String(l.key),className:"p-4 align-middle truncate",style:{width:(y=b.current)==null?void 0:y.clientWidth,maxWidth:(R=b.current)==null?void 0:R.clientWidth}},o?o(h,l.key,c.index):String(h[l.key]))}))}))))}be.__docgenInfo={description:"",methods:[],displayName:"Table",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ header: string; key: keyof T }",signature:{properties:[{key:"header",value:{name:"string",required:!0}},{key:"key",value:{name:"T",required:!0}}]}}],raw:"{ header: string; key: keyof T }[]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},headerClassName:{required:!1,tsType:{name:"string"},description:""},disableScrollbar:{required:!1,tsType:{name:"boolean"},description:""},render:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: T, columnKey: keyof T, rowIndex: number) => React.ReactNode",signature:{arguments:[{type:{name:"T"},name:"row"},{type:{name:"T"},name:"columnKey"},{type:{name:"number"},name:"rowIndex"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: T, rowIndex: number) => void",signature:{arguments:[{type:{name:"T"},name:"row"},{type:{name:"number"},name:"rowIndex"}],return:{name:"void"}}},description:""}}};const We=[{header:"Invoice",key:"invoice"},{header:"Status",key:"status"},{header:"Method",key:"method"},{header:"Amount",key:"amount"}],Ue=t=>{const e=["Paid","Pending","Unpaid"],r=["Credit Card","PayPal","Bank Transfer"];return Array.from({length:t},(n,s)=>({invoice:`INV${String(s+1).padStart(4,"0")}`,status:e[Math.floor(Math.random()*e.length)],method:r[Math.floor(Math.random()*r.length)],amount:`$${(Math.random()*4999+1).toFixed(2)}`}))},Ve=Ue(5e3),M=()=>{const t=(e,r)=>{if(r==="status"){const n=e.status==="Paid"?"text-green-600":e.status==="Pending"?"text-yellow-600":"text-red-600";return a.createElement("span",{className:n},e.status)}return e[r]};return a.createElement("div",{className:"p-4 w-3/4 h-[500px] bg-background"},a.createElement(be,{columns:We,data:Ve,onClick:(e,r)=>alert(`Row clicked: ${e.invoice}, Index: ${r}`),render:t}))};M.storyName="Table";const at={title:"Components/Table"};M.__docgenInfo={description:"",methods:[],displayName:"Default"};var pe,he,ge;M.parameters={...M.parameters,docs:{...(pe=M.parameters)==null?void 0:pe.docs,source:{originalSource:`() => {
  const renderCell = (row: InvoiceData, columnKey: keyof InvoiceData) => {
    if (columnKey === 'status') {
      const statusColor = row.status === 'Paid' ? 'text-green-600' : row.status === 'Pending' ? 'text-yellow-600' : 'text-red-600';
      return <span className={statusColor}>{row.status}</span>;
    }
    return row[columnKey];
  };
  return <div className="p-4 w-3/4 h-[500px] bg-background">
      <Table columns={columns} data={data} onClick={(row, index) => alert(\`Row clicked: \${row.invoice}, Index: \${index}\`)} render={renderCell} />
    </div>;
}`,...(ge=(he=M.parameters)==null?void 0:he.docs)==null?void 0:ge.source}}};const st=["Default"];export{M as Default,st as __namedExportsOrder,at as default};
